<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<title>To-Do List anupam goutam</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap');

  /* Reset and base */
  * {
    box-sizing: border-box;
  }
  body {
    font-family: 'Poppins', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: #fff;
    margin: 0;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    padding: 20px;
  }
  #app {
    background: #2a2550;
    padding: 25px 30px;
    border-radius: 16px;
    box-shadow: 0 12px 30px rgba(33,33,33,0.5);
    width: 100%;
    max-width: 360px;
    max-height: 580px;
    display: flex;
    flex-direction: column;
  }
  
  h1 {
    margin: 0 0 20px 0;
    font-weight: 800;
    font-size: 2rem;
    letter-spacing: 3px;
    text-align: center;
    user-select: none;
    text-transform: uppercase;
    color: #c8d6e5;
    text-shadow: 0 2px 8px rgba(0,0,0,0.4);
  }
  
  form {
    display: flex;
    gap: 12px;
  }
  
  input[type="text"] {
    flex-grow: 1;
    padding: 14px 18px;
    border-radius: 12px;
    border: none;
    font-size: 1.1rem;
    font-weight: 400;
    background: #483d8b;
    color: #f1f1f1;
    box-shadow: inset 2px 2px 5px #3a326a, inset -2px -2px 5px #5a529d;
    transition: background-color 0.3s ease;
  }
  
  input[type="text"]::placeholder {
    color: #c1c1c1;
    font-style: italic;
  }
  
  input[type="text"]:focus {
    outline: none;
    background: #5a4cd6;
    box-shadow: 0 0 10px #7b68ee;
    color: #fff;
  }
  
  button {
    padding: 14px 18px;
    background: linear-gradient(135deg, #81ecec, #00cec9);
    border: none;
    border-radius: 12px;
    color: #2d3436;
    font-weight: 700;
    cursor: pointer;
    font-size: 1.1rem;
    box-shadow: 0 6px 12px rgba(0,204,204,0.5);
    transition: background 0.35s cubic-bezier(0.4, 0, 0.2, 1), transform 0.15s ease;
    user-select: none;
    min-width: 75px;
  }
  
  button:hover {
    background: linear-gradient(135deg, #00cec9, #00a8cc);
    color: white;
    transform: scale(1.05);
  }
  button:active {
    transform: scale(0.95);
  }
  
  ul#todo-list {
    list-style: none;
    margin-top: 28px;
    padding-left: 0;
    flex-grow: 1;
    overflow-y: auto;
    scrollbar-width: thin;
    scrollbar-color: #81ecec transparent;
  }

  ul#todo-list::-webkit-scrollbar {
    width: 7px;
  }
  ul#todo-list::-webkit-scrollbar-thumb {
    background: linear-gradient(135deg, #81ecec, #00cec9);
    border-radius: 14px;
  }
  ul#todo-list::-webkit-scrollbar-track {
    background: transparent;
  }

  ul#todo-list li {
    background: #4c3c74;
    padding: 14px 18px;
    margin-bottom: 16px;
    border-radius: 14px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    user-select: none;
    box-shadow: 0 4px 12px rgba(0,0,0,0.25);
    cursor: default;
    transition: transform 0.25s ease, box-shadow 0.25s ease;
  }
  ul#todo-list li:hover {
    box-shadow: 0 8px 25px rgba(0,204,204,0.4);
    transform: translateY(-3px);
  }
  
  ul#todo-list li.done {
    background: #2d3436;
    color: #bbb;
    cursor: pointer;
    box-shadow: 0 0 16px #00cec9;
    transition: background-color 0.5s ease, box-shadow 0.5s ease;
  }
  
  ul#todo-list li.done span {
    text-decoration: line-through;
    opacity: 0.65;
  }
  
  ul#todo-list li span {
    flex-grow: 1;
    cursor: pointer;
    font-size: 1.05rem;
    user-select: text;
    transition: color 0.3s ease;
  }
  ul#todo-list li span:focus {
    outline: 2px solid #00cec9;
    outline-offset: 2px;
    border-radius: 6px;
  }
  
  ul#todo-list li button.delete-btn {
    background: transparent;
    border: none;
    color: #ff7675;
    font-weight: 700;
    cursor: pointer;
    font-size: 1.6rem;
    margin-left: 18px;
    line-height: 1;
    user-select: none;
    transition: color 0.3s ease, transform 0.15s ease;
  }
  
  ul#todo-list li button.delete-btn:hover {
    color: #d63031;
    transform: scale(1.3);
  }
  ul#todo-list li button.delete-btn:active {
    transform: scale(1);
  }

  /* Responsive for small mobile screens */
  @media(max-width: 360px) {
    #app {
      padding: 20px 20px;
      max-width: 100%;
    }
    input[type="text"] {
      font-size: 1rem;
    }
    button {
      font-size: 1rem;
      min-width: 65px;
    }
    h1 {
      font-size: 1.6rem;
    }
    ul#todo-list li {
      font-size: 1rem;
      padding: 12px 14px;
    }
    ul#todo-list li button.delete-btn {
      font-size: 1.4rem;
      margin-left: 12px;
    }
  }
</style>
</head>
<body>
<div id="app" role="main" aria-label="To-Do List Application">
  <h1>My To-Do List</h1>
  <form id="todo-form" aria-describedby="input-desc" novalidate>
    <input type="text" id="todo-input" placeholder="Add a new task..." aria-required="true" aria-describedby="input-desc" autocomplete="off" />
    <button type="submit" aria-label="Add task">Add</button>
  </form>
  <ul id="todo-list" aria-live="polite" aria-relevant="additions removals"></ul>
</div>

<script>
  (() => {
    const form = document.getElementById('todo-form');
    const input = document.getElementById('todo-input');
    const list = document.getElementById('todo-list');

    // Pre-populate some tasks if localStorage empty
    const defaultTodos = [
      { text: "Buy groceries", done: false },
      { text: "Complete homework", done: false },
      { text: "Walk the dog", done: true },
      { text: "Read a book", done: false },
      { text: "Prepare dinner", done: false },
      { text: "Call a friend", done: false }
    ];
    let todos = JSON.parse(localStorage.getItem('todos-v2'));
    if (!todos || !todos.length) {
      todos = defaultTodos;
      localStorage.setItem('todos-v2', JSON.stringify(todos));
    }

    // Helper: Animate fade out then remove
    function animateRemove(element, callback) {
      element.style.transition = 'opacity 0.4s ease, transform 0.4s ease';
      element.style.opacity = '0';
      element.style.transform = 'translateX(100%)';
      setTimeout(callback, 400);
    }

    // Render todos
    function render() {
      list.innerHTML = '';
      todos.forEach((todo, i) => {
        const li = document.createElement('li');
        li.className = todo.done ? 'done' : '';
        li.setAttribute('data-index', i);
        li.setAttribute('tabindex', '-1');

        const span = document.createElement('span');
        span.textContent = todo.text;
        span.title = 'Click to toggle done';
        // Toggle done on click or keyboard enter/space
        span.onclick = () => {
          todos[i].done = !todos[i].done;
          saveAndRender();
          span.focus();
        };
        span.setAttribute('tabindex', '0');
        span.addEventListener('keydown', e => {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            todos[i].done = !todos[i].done;
            saveAndRender();
            span.focus();
          }
        });

        const btn = document.createElement('button');
        btn.className = 'delete-btn';
        btn.setAttribute('aria-label', `Delete task: ${todo.text}`);
        btn.innerHTML = '&times;';
        btn.title = 'Delete task';
        btn.onclick = () => {
          // Animate removal, then remove from array and rerender
          animateRemove(li, () => {
            todos.splice(i, 1);
            saveAndRender();
          });
        };
        
        li.appendChild(span);
        li.appendChild(btn);
        list.appendChild(li);

        // Animate entry
        li.style.opacity = 0;
        li.style.transform = 'translateX(-20px)';
        setTimeout(() => {
          li.style.transition = 'opacity 0.3s ease, transform 0.3s ease';
          li.style.opacity = 1;
          li.style.transform = 'translateX(0)';
        }, 20);
      });
    }

    function saveAndRender() {
      localStorage.setItem('todos-v2', JSON.stringify(todos));
      render();
    }
    
    form.onsubmit = e => {
      e.preventDefault();
      const val = input.value.trim();
      if (val) {
        todos.push({ text: val, done: false });
        input.value = '';
        input.focus();
        saveAndRender();
      }
    };

    render();
  })();
</script>
</body>
</html>

